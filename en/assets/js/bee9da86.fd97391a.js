"use strict";(self.webpackChunkportfolio_docs=self.webpackChunkportfolio_docs||[]).push([[1517],{4125(n,e,r){r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ai-chag/tech-stack","title":"Technology Stack","description":"Overview","source":"@site/docs/ai-chag/tech-stack.md","sourceDirName":"ai-chag","slug":"/ai-chag/tech-stack","permalink":"/portfolio-docs/en/docs/ai-chag/tech-stack","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/portfolio-docs/tree/main/docs/ai-chag/tech-stack.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"aiChagSidebar","previous":{"title":"AI Components Deep Dive","permalink":"/portfolio-docs/en/docs/ai-chag/ai-components"}}');var i=r(4848),t=r(8453);const c={sidebar_position:4},a="Technology Stack",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Core Technologies",id:"core-technologies",level:2},{value:"Backend - Python 3.12",id:"backend---python-312",level:3},{value:"AI/ML - Sentence Transformers",id:"aiml---sentence-transformers",level:3},{value:"Vector Database - Qdrant",id:"vector-database---qdrant",level:3},{value:"Frontend - React + Vite",id:"frontend---react--vite",level:3},{value:"Development Stack",id:"development-stack",level:2},{value:"Package Management",id:"package-management",level:3},{value:"Code Quality",id:"code-quality",level:3},{value:"Infrastructure",id:"infrastructure",level:2},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Local Development",id:"local-development",level:3},{value:"Project Structure",id:"project-structure",level:2},{value:"API Documentation",id:"api-documentation",level:2},{value:"FastAPI Automatic Docs",id:"fastapi-automatic-docs",level:3},{value:"Environment Configuration",id:"environment-configuration",level:2},{value:"Settings Management",id:"settings-management",level:3},{value:"Deployment",id:"deployment",level:2},{value:"Production Build",id:"production-build",level:3},{value:"Docker Production",id:"docker-production",level:3},{value:"External Links",id:"external-links",level:2}];function d(n){const e={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"technology-stack",children:"Technology Stack"})}),"\n",(0,i.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(e.mermaid,{value:'graph TB\n    subgraph "Frontend"\n        FE[React Vite]\n    end\n    \n    subgraph "Backend"\n        API[FastAPI Python 3.12]\n        INDEX[Indexing Service Python]\n    end\n    \n    subgraph "AI/ML"\n        CLIP[sentence-transformers CLIP Model]\n    end\n    \n    subgraph "Database"\n        QDRANT[(Qdrant Vector DB)]\n        FILES[(File Storage Keyframes)]\n    end\n    \n    subgraph "Infrastructure"\n        DOCKER[Docker Compose]\n    end\n    \n    FE --\x3e API\n    API --\x3e CLIP\n    INDEX --\x3e CLIP\n    API --\x3e QDRANT\n    INDEX --\x3e QDRANT\n    INDEX --\x3e FILES\n    DOCKER -.manages.- FE\n    DOCKER -.manages.- API\n    DOCKER -.manages.- INDEX\n    DOCKER -.manages.- QDRANT'}),"\n",(0,i.jsx)(e.h2,{id:"core-technologies",children:"Core Technologies"}),"\n",(0,i.jsx)(e.h3,{id:"backend---python-312",children:"Backend - Python 3.12"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Framework"}),": FastAPI"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Modern async web framework"}),"\n",(0,i.jsx)(e.li,{children:"Automatic OpenAPI/Swagger docs"}),"\n",(0,i.jsx)(e.li,{children:"Type hints with Pydantic"}),"\n",(0,i.jsx)(e.li,{children:"High performance (Starlette + Uvicorn)"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Key Dependencies"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-toml",children:'[dependencies]\nfastapi = "^0.100.0"\nuvicorn = "^0.23.0"\npython = "^3.12"\n'})}),"\n",(0,i.jsx)(e.h3,{id:"aiml---sentence-transformers",children:"AI/ML - Sentence Transformers"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Model"}),": ",(0,i.jsx)(e.code,{children:"clip-ViT-B-32"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Vision Transformer architecture"}),"\n",(0,i.jsx)(e.li,{children:"512-dimensional embeddings"}),"\n",(0,i.jsx)(e.li,{children:"Pre-trained on LAION-400M dataset"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Installation"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pip install sentence-transformers\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Usage"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from sentence_transformers import SentenceTransformer\n\nmodel = SentenceTransformer('clip-ViT-B-32')\nembedding = model.encode(\"dog running\")  # 512-dim vector\n"})}),"\n",(0,i.jsx)(e.h3,{id:"vector-database---qdrant",children:"Vector Database - Qdrant"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Version"}),": Latest\n",(0,i.jsx)(e.strong,{children:"Deployment"}),": Docker container"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"qdrant:\n  image: qdrant/qdrant\n  ports:\n    - 6333:6333  # HTTP\n    - 6334:6334  # gRPC\n  volumes:\n    - ./data/qdrant_data:/qdrant/storage\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Client"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'from qdrant_client import QdrantClient\n\nclient = QdrantClient(url="http://localhost:6333")\n'})}),"\n",(0,i.jsx)(e.h3,{id:"frontend---react--vite",children:"Frontend - React + Vite"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Build Tool"}),": Vite"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Fast HMR (Hot Module Replacement)"}),"\n",(0,i.jsx)(e.li,{children:"Optimized production builds"}),"\n",(0,i.jsx)(e.li,{children:"Modern ES modules"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Configuration"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:"// vite.config.ts\nimport { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 5173\n  }\n})\n"})}),"\n",(0,i.jsx)(e.h2,{id:"development-stack",children:"Development Stack"}),"\n",(0,i.jsx)(e.h3,{id:"package-management",children:"Package Management"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Indexing & Retrieval"}),": ",(0,i.jsx)(e.code,{children:"uv"})," (modern Python package manager)"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-toml",children:'[tool.uv]\ndev-dependencies = ["pytest", "black", "mypy"]\n'})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Frontend"}),": ",(0,i.jsx)(e.code,{children:"pnpm"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "packageManager": "pnpm@8.0.0"\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"code-quality",children:"Code Quality"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Python"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Type checking: ",(0,i.jsx)(e.code,{children:"mypy"})]}),"\n",(0,i.jsxs)(e.li,{children:["Code formatting: ",(0,i.jsx)(e.code,{children:"black"})]}),"\n",(0,i.jsxs)(e.li,{children:["Linting: ",(0,i.jsx)(e.code,{children:"ruff"})]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"TypeScript"}),":"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"ESLint configuration"}),"\n",(0,i.jsx)(e.li,{children:"Prettier formatting"}),"\n",(0,i.jsx)(e.li,{children:"Strict TypeScript mode"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"infrastructure",children:"Infrastructure"}),"\n",(0,i.jsx)(e.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Services"}),":"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Qdrant"})," - Vector database"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Frontend"})," - React development server (optional)"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Nginx"})," - Reverse proxy (optional)"]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"docker-compose.dev.yml"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"version: '3.8'\n\nservices:\n  qdrant:\n    image: qdrant/qdrant\n    ports:\n      - 6333:6333\n      - 6334:6334\n    volumes:\n      - ./data/qdrant_data:/qdrant/storage\n    restart: always\n\n  frontend:\n    build:\n      context: ./client\n      dockerfile: Dockerfile.dev\n    ports:\n      - 5173:5173\n    environment:\n      VITE_API_URL: http://localhost:8000\n"})}),"\n",(0,i.jsx)(e.h3,{id:"local-development",children:"Local Development"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Start Qdrant"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"docker-compose up -d qdrant\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Run Indexing"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd indexing\nuv run python main.py\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Run Retrieval API"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd retrieve\nuv run uvicorn main:app --reload --port 8000\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Run Frontend"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd client\npnpm install\npnpm dev\n"})}),"\n",(0,i.jsx)(e.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"ai-chag-2025/\n\u251c\u2500\u2500 indexing/              # Indexing service\n\u2502   \u251c\u2500\u2500 application/       # Business logic\n\u2502   \u251c\u2500\u2500 domain/           # Domain models\n\u2502   \u251c\u2500\u2500 infra/            # CLIP, Qdrant clients\n\u2502   \u251c\u2500\u2500 shared/           # Settings, logger\n\u2502   \u251c\u2500\u2500 main.py           # Entry point\n\u2502   \u2514\u2500\u2500 pyproject.toml    # Dependencies\n\u2502\n\u251c\u2500\u2500 retrieve/             # Retrieval API\n\u2502   \u251c\u2500\u2500 api/             # FastAPI routes\n\u2502   \u251c\u2500\u2500 application/     # QA, KIS, TRAKE services\n\u2502   \u251c\u2500\u2500 domain/          # Interfaces, models\n\u2502   \u251c\u2500\u2500 infra/           # Embedding, Qdrant, Gemini\n\u2502   \u251c\u2500\u2500 shared/          # Utils, settings\n\u2502   \u251c\u2500\u2500 main.py          # FastAPI app\n\u2502   \u2514\u2500\u2500 pyproject.toml\n\u2502\n\u251c\u2500\u2500 client/              # React frontend\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 vite.config.ts\n\u2502   \u2514\u2500\u2500 package.json\n\u2502\n\u251c\u2500\u2500 resources/           # Keyframes storage\n\u2502   \u2514\u2500\u2500 documents/\n\u2502\n\u2514\u2500\u2500 docker-compose.dev.yml\n"})}),"\n",(0,i.jsx)(e.h2,{id:"api-documentation",children:"API Documentation"}),"\n",(0,i.jsx)(e.h3,{id:"fastapi-automatic-docs",children:"FastAPI Automatic Docs"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Swagger UI"}),": ",(0,i.jsx)(e.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"}),(0,i.jsx)(e.br,{}),"\n",(0,i.jsx)(e.strong,{children:"ReDoc"}),": ",(0,i.jsx)(e.a,{href:"http://localhost:8000/redoc",children:"http://localhost:8000/redoc"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Example Endpoint"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'@app.post("/qa/query")\nasync def query(request: QAInput) -> QAOutput:\n    """\n    Search for similar video frames based on text query.\n    \n    Args:\n        request: Query input with text, filters, top_k\n        \n    Returns:\n        Search results with video_id, frame_idx, scores\n    """\n    service = QAService(settings=get_settings())\n    return service.process(request)\n'})}),"\n",(0,i.jsx)(e.h2,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,i.jsx)(e.h3,{id:"settings-management",children:"Settings Management"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Pydantic BaseSettings"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'from pydantic_settings import BaseSettings\n\nclass Settings(BaseSettings):\n    # Qdrant\n    qdrant_url: str = "http://localhost:6333"\n    collection_name: str = "video_keyframes"\n    \n    # CLIP\n    embedding_model: str = "clip-ViT-B-32"\n    \n    # Processing\n    batch_size: int = 32\n    \n    class Config:\n        env_file = ".env"\n'})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Environment Variables"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# .env\nQDRANT_URL=http://localhost:6333\nEMBEDDING_MODEL=clip-ViT-B-32\nBATCH_SIZE=32\n"})}),"\n",(0,i.jsx)(e.h2,{id:"deployment",children:"Deployment"}),"\n",(0,i.jsx)(e.h3,{id:"production-build",children:"Production Build"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Frontend"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd client\npnpm build\n# Output: dist/\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Backend"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Use production ASGI server\ngunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker\n"})}),"\n",(0,i.jsx)(e.h3,{id:"docker-production",children:"Docker Production"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dockerfile",children:'# Dockerfile (retrieve)\nFROM python:3.12-slim\n\nWORKDIR /app\nCOPY pyproject.toml uv.lock ./\nRUN pip install uv && uv sync --frozen\n\nCOPY . .\nCMD ["uv", "run", "uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]\n'})}),"\n",(0,i.jsx)(e.h2,{id:"external-links",children:"External Links"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://fastapi.tiangolo.com/",children:"FastAPI Documentation"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.sbert.net/",children:"Sentence Transformers"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://qdrant.tech/documentation/",children:"Qdrant Documentation"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://arxiv.org/abs/2103.00020",children:"CLIP Paper"})}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}}}]);