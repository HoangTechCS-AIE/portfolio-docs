"use strict";(self.webpackChunkportfolio_docs=self.webpackChunkportfolio_docs||[]).push([[356],{6834(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"ldx-insight/architecture","title":"System Architecture","description":"Data Flow Architecture","source":"@site/docs/ldx-insight/architecture.md","sourceDirName":"ldx-insight","slug":"/ldx-insight/architecture","permalink":"/portfolio-docs/en/docs/ldx-insight/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/portfolio-docs/tree/main/docs/ldx-insight/architecture.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"ldxInsightSidebar","previous":{"title":"Ldx-Insight Overview","permalink":"/portfolio-docs/en/docs/ldx-insight/overview"},"next":{"title":"Technology Stack","permalink":"/portfolio-docs/en/docs/ldx-insight/tech-stack"}}');var r=i(4848),t=i(8453);const o={sidebar_position:2},a="System Architecture",l={},c=[{value:"Data Flow Architecture",id:"data-flow-architecture",level:2},{value:"Component Breakdown",id:"component-breakdown",level:2},{value:"1. Python Collector Service",id:"1-python-collector-service",level:3},{value:"2. MongoDB - Open Linked Hub",id:"2-mongodb---open-linked-hub",level:3},{value:"3. Spring Boot Backend",id:"3-spring-boot-backend",level:3},{value:"4. Nuxt.js Frontend",id:"4-nuxtjs-frontend",level:3},{value:"5. ML Diagnostic Service",id:"5-ml-diagnostic-service",level:3},{value:"Sequence Diagram: Data Collection",id:"sequence-diagram-data-collection",level:2},{value:"Deployment Architecture",id:"deployment-architecture",level:2},{value:"Technology Integration",id:"technology-integration",level:2},{value:"Spring Boot + MongoDB",id:"spring-boot--mongodb",level:3},{value:"Nuxt.js + REST API",id:"nuxtjs--rest-api",level:3},{value:"Security",id:"security",level:2},{value:"Authentication &amp; Authorization",id:"authentication--authorization",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"system-architecture",children:"System Architecture"})}),"\n",(0,r.jsx)(n.h2,{id:"data-flow-architecture",children:"Data Flow Architecture"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TD\n    %% Ngu\u1ed3n\n    A["Ngu\u1ed3n D\u1eef li\u1ec7u m\u1edf (data.gov.vn, opendata.mic.gov.vn)"]\n    \n    %% Python Service\n    B["Python Collector Service"]\n    \n    %% Platform\n    subgraph "Open Linked Hub Platform"\n        C["MongoDB Database"]\n    end\n\n    %% Backend\n    F["Spring Boot Backend (Java 17)"]\n\n    %% Applications\n    J["Nuxt.js Dashboard"]\n    K["Python ML Service Diagnostic Model"]\n\n    %% Lu\u1ed3ng d\u1eef li\u1ec7u\n    A -- "PUSH Raw Data" --\x3e B\n    B -- "Normalize & Store" --\x3e C\n    \n    F -- "Query Data" --\x3e C\n    F -- "REST API" --\x3e J\n    \n    K -- "Get Training Data" --\x3e C\n    K -- "Predictions" --\x3e J\n    \n    style C fill:#47a047,stroke:#2d7a2d,stroke-width:2px,color:#fff\n    style F fill:#6db33f,stroke:#5a9c3a,stroke-width:2px,color:#fff\n    style K fill:#3776ab,stroke:#285a8f,stroke-width:2px,color:#fff\n    style J fill:#00dc82,stroke:#00b268,stroke-width:2px,color:#fff'}),"\n",(0,r.jsx)(n.h2,{id:"component-breakdown",children:"Component Breakdown"}),"\n",(0,r.jsx)(n.h3,{id:"1-python-collector-service",children:"1. Python Collector Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": T\u1ef1 \u0111\u1ed9ng thu th\u1eadp d\u1eef li\u1ec7u t\u1eeb c\xe1c ngu\u1ed3n m\u1edf"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"HTTP requests \u0111\u1ebfn c\xe1c API ngu\u1ed3n m\u1edf"}),"\n",(0,r.jsx)(n.li,{children:"Parse v\xe0 normalize d\u1eef li\u1ec7u v\u1ec1 JSON"}),"\n",(0,r.jsx)(n.li,{children:"Validate v\xe0 clean data"}),"\n",(0,r.jsx)(n.li,{children:"Batch insert v\xe0o MongoDB"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Libraries"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import requests\nimport pandas as pd\nfrom pymongo import MongoClient\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example Workflow"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# 1. Fetch data from open data source\nresponse = requests.get(\"https://data.gov.vn/api/dataset\")\nraw_data = response.json()\n\n# 2. Normalize to standard format\ndf = pd.DataFrame(raw_data)\nnormalized = df.to_dict('records')\n\n# 3. Insert to MongoDB\ncollection.insert_many(normalized)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-mongodb---open-linked-hub",children:"2. MongoDB - Open Linked Hub"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": C\u01a1 s\u1edf d\u1eef li\u1ec7u t\u1eadp trung cho d\u1eef li\u1ec7u m\u1edf"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Collections"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"datasets"})," - Metadata v\u1ec1 datasets"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"indicators"})," - Ch\u1ec9 s\u1ed1 chuy\u1ec3n \u0111\u1ed5i s\u1ed1"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"provinces"})," - D\u1eef li\u1ec7u \u0111\u1ecba ph\u01b0\u01a1ng"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"statistics"})," - Th\u1ed1ng k\xea t\u1ed5ng h\u1ee3p"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Schema Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "_id": "ObjectId",\n  "dataset_name": "Digital Transformation Index 2024",\n  "province": "Hanoi",\n  "indicators": {\n    "infrastructure": 8.5,\n    "services": 7.2,\n    "governance": 6.8\n  },\n  "timestamp": "2024-01-01T00:00:00Z"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-spring-boot-backend",children:"3. Spring Boot Backend"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Core API layer cung c\u1ea5p d\u1eef li\u1ec7u cho frontend"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Architecture"}),": 3-layer architecture"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Controllers (REST endpoints)\n    \u2193\nServices (Business logic)\n    \u2193\nRepositories (Data access)\n    \u2193\nMongoDB\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key Technologies"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Spring Boot 3"}),"\n",(0,r.jsx)(n.li,{children:"Spring Security (Authentication)"}),"\n",(0,r.jsx)(n.li,{children:"Spring Data MongoDB"}),"\n",(0,r.jsx)(n.li,{children:"MapStruct (DTO mapping)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"RESTful API Endpoints"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET  /api/datasets              # List all datasets\nGET  /api/datasets/{id}         # Get dataset details\nGET  /api/indicators            # Get indicators\nPOST /api/search                # Search datasets\nGET  /api/provinces/{id}/stats  # Provincial statistics\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-nuxtjs-frontend",children:"4. Nuxt.js Frontend"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Dashboard hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u v\xe0 visualizations"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Features"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Server-side rendering (SSR)"}),"\n",(0,r.jsx)(n.li,{children:"Vue 3 Composition API"}),"\n",(0,r.jsx)(n.li,{children:"Chart.js / ApexCharts for visualizations"}),"\n",(0,r.jsx)(n.li,{children:"Responsive design"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Pages"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/"})," - Homepage overview"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/datasets"})," - Dataset explorer"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/dashboard"})," - Analytics dashboard"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"/compare"})," - Compare provinces"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-ml-diagnostic-service",children:"5. ML Diagnostic Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Ph\xe2n t\xedch v\xe0 ch\u1ea9n \u0111o\xe1n ch\u1ec9 s\u1ed1 chuy\u1ec3n \u0111\u1ed5i s\u1ed1"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"ML Models"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Regression models for scoring"}),"\n",(0,r.jsx)(n.li,{children:"Classification for digital maturity levels"}),"\n",(0,r.jsx)(n.li,{children:"Clustering for province grouping"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Endpoints"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.post("/diagnose")\ndef diagnose(indicators: Dict[str, float]):\n    """\n    Ch\u1ea9n \u0111o\xe1n m\u1ee9c \u0111\u1ed9 chuy\u1ec3n \u0111\u1ed5i s\u1ed1\n    \n    Input: {"infrastructure": 8.5, "services": 7.2, ...}\n    Output: {"score": 7.5, "level": "Good", "recommendations": [...]}\n    """\n    score = model.predict([indicators])\n    return {"score": score, "level": get_level(score)}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sequence-diagram-data-collection",children:"Sequence Diagram: Data Collection"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    autonumber\n    participant SRC as Open Data Source\n    participant COL as Python Collector\n    participant DB as MongoDB\n    participant BE as Spring Boot Backend\n    participant FE as Nuxt.js Frontend\n    \n    Note over COL: Scheduled job (cron)\n    COL->>SRC: HTTP GET /api/datasets\n    SRC--\x3e>COL: JSON raw data\n    \n    COL->>COL: Normalize & Validate\n    COL->>DB: Insert documents\n    DB--\x3e>COL: Acknowledgment\n    \n    Note over FE: User visits dashboard\n    FE->>BE: GET /api/datasets\n    BE->>DB: Query datasets\n    DB--\x3e>BE: Results\n    BE--\x3e>FE: JSON response\n    FE->>FE: Render charts"}),"\n",(0,r.jsx)(n.h2,{id:"deployment-architecture",children:"Deployment Architecture"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph "Docker Compose"\n        NGINX[Nginx Reverse Proxy Port 80]\n        FE[Nuxt.js SSR Server Port 3000]\n        BE[Spring Boot API Port 8080]\n        ML[ML Service FastAPI Port 5000]\n        DB[(MongoDB Port 27017)]\n    end\n    \n    USER[User Browser] --\x3e NGINX\n    NGINX --\x3e FE\n    FE --\x3e BE\n    BE --\x3e DB\n    FE --\x3e ML\n    ML --\x3e DB\n    \n    PY[Python Collector] --\x3e DB\n    \n    style DB fill:#47a047,color:#fff\n    style BE fill:#6db33f,color:#fff\n    style ML fill:#3776ab,color:#fff\n    style FE fill:#00dc82,color:#fff'}),"\n",(0,r.jsx)(n.h2,{id:"technology-integration",children:"Technology Integration"}),"\n",(0,r.jsx)(n.h3,{id:"spring-boot--mongodb",children:"Spring Boot + MongoDB"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"spring:\n  data:\n    mongodb:\n      uri: mongodb://localhost:27017/ldx_insight\n      database: ldx_insight\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Repository Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@Repository\npublic interface DatasetRepository extends MongoRepository<Dataset, String> {\n    List<Dataset> findByProvince(String province);\n    List<Dataset> findByTimestampAfter(Date date);\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"nuxtjs--rest-api",children:"Nuxt.js + REST API"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"API Client"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// composables/useApi.ts\nexport const useApi = () => {\n  const config = useRuntimeConfig()\n  \n  const fetchDatasets = async () => {\n    const { data } = await useFetch(`${config.public.apiUrl}/api/datasets`)\n    return data.value\n  }\n  \n  return { fetchDatasets }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,r.jsx)(n.h3,{id:"authentication--authorization",children:"Authentication & Authorization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Spring Security JWT tokens"}),"\n",(0,r.jsx)(n.li,{children:"Role-based access control (RBAC)"}),"\n",(0,r.jsx)(n.li,{children:"API key for ML service"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security Flow"}),":"]}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    User->>Backend: POST /login {username, password}\n    Backend->>Backend: Validate credentials\n    Backend--\x3e>User: JWT token\n    \n    User->>Backend: GET /api/datasets (with JWT header)\n    Backend->>Backend: Validate JWT\n    Backend--\x3e>User: Protected data"}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"./tech-stack",children:"Technology Stack Details \u2192"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"./features",children:"Features Overview \u2192"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);